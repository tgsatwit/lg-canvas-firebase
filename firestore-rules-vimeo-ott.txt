// Firestore Rules for Vimeo OTT Members Collection
// Add these rules to your existing firestore.rules file

// vimeo-ott-members collection
// Stores synchronized member data from Vimeo OTT API
match /vimeo-ott-members/{document=**} {
  // Allow read access for authenticated users
  allow read: if request.auth != null;
  
  // Only allow writes from authenticated users (for sync operations)
  // In production, you might want to restrict this to admin users only
  allow write: if request.auth != null;
}

// vimeo-ott-sync-status collection
// Tracks when the last sync occurred
match /vimeo-ott-sync-status/{document=**} {
  // Allow read access for authenticated users
  allow read: if request.auth != null;
  
  // Only allow writes from authenticated users
  allow write: if request.auth != null;
}

// Optional: If you want to restrict sync operations to admin users only
// You would need to set a custom claim on admin users first, then use:
// match /vimeo-ott-members/{document=**} {
//   allow read: if request.auth != null;
//   allow write: if request.auth != null && request.auth.token.admin == true;
// }